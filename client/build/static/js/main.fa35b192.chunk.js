(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{102:function(e,t,a){e.exports=a(239)},107:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(65),c=a.n(l),s=a(42),u=a(3),o=(a(107),a(7)),i=a(101),m=a(1),p={loading:!0,page:{login:!0,registration:!1,item:!1},items:[],error:{error:!1,msg:""},success:{error:!1,msg:""},user:{}},E=Object(n.createContext)(p),d=function(e,t){switch(t.type){case"SET_USER":return Object(m.a)(Object(m.a)({},e),{},{user:t.payload});case"SET_HOBBI":return Object(m.a)(Object(m.a)({},e),{},{items:t.payload,loading:!1});case"DELETE_HOBBI":return Object(m.a)(Object(m.a)({},e),{},{items:e.items.filter((function(e){return e._id!==t.payload}))});case"ADD_HOBBI":return Object(m.a)(Object(m.a)({},e),{},{items:[].concat(Object(i.a)(e.items),[t.payload])});case"REGISTRACTIONPAGE":return Object(m.a)(Object(m.a)({},e),{},{page:{login:!1,registration:!0,item:!1}});case"ITEMPAGE":return Object(m.a)(Object(m.a)({},e),{},{page:{login:!1,registration:!1,item:!0}});case"LOGINPAGE":return Object(m.a)(Object(m.a)({},e),{},{page:{login:!0,registration:!1,item:!1}});case"LOGOUT":return localStorage.setItem("auth-token",""),localStorage.setItem("user_id",""),Object(m.a)(Object(m.a)({},e),{},{page:{login:!0,registration:!1,item:!1},user:{}});case"ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:{error:!0,msg:t.payload}});case"SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{success:{success:!0,msg:t.payload}});case"CLEAR_ERROR":return Object(m.a)(Object(m.a)({},e),{},{error:{error:!1,msg:""},success:{success:!1,msg:""}});default:return e}},f=function(e){var t=e.children,a=Object(n.useReducer)(d,p),l=Object(o.a)(a,2),c=l[0],s=l[1];return r.a.createElement(E.Provider,{value:{data:c,dispatch:s}},t)},b=function(e){var t=Object(n.useContext)(E),a=t.data,l=t.dispatch,c=function(){l({type:"CLEAR_ERROR"})};return r.a.createElement("nav",{className:"navbar",onClick:c},r.a.createElement("div",{style:{cursor:"pointer"},className:"logo",onClick:function(){a.user._id&&(e.history.push("/"),l({type:"ITEMPAGE"}))}},a.page.item?"Welcome ".concat(a.user.name):"Welcome Guest"),r.a.createElement("ul",{className:"navbar-ul"},a.page.item?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/details",style:{color:"White",textDecoration:"none"}},"Profie")),r.a.createElement("li",{onClick:function(){l({type:"LOGOUT"}),e.history.push("/"),l({type:"SUCCESS",payload:"Successfull logout"})}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{onClick:function(){l({type:"REGISTRACTIONPAGE"}),c()}},"Registration"),r.a.createElement("li",{onClick:function(){l({type:"LOGINPAGE"}),c()}},"Login"))))},v=a(2),h=a.n(v),g=a(5),y=a(6),O=a.n(y),j=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},C=function(){var e=Object(n.useContext)(E).data;return r.a.createElement("div",{className:"error"},e.error.msg)},x=function(){var e=Object(n.useContext)(E).data;return r.a.createElement("div",{className:"success"},e.success.msg)},N=function(e){var t=e.slice(0,Math.floor(e.length/2)),a=e.slice(Math.floor(e.length/2),e.length);localStorage.setItem("auth-token",t),localStorage.setItem("user_id",a)},R=function(){return localStorage.getItem("auth-token")+localStorage.getItem("user_id")},S=function(){var e=Object(n.useContext)(E),t=e.data,a=e.dispatch,l=Object(n.useState)(""),c=Object(o.a)(l,2),s=c[0],u=c[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),p=m[0],d=m[1],f=function(e){a({type:"ERROR",payload:e})},b=function(){a({type:"CLEAR_ERROR"})},v=function(){var e=Object(g.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(),a({type:"CLEAR_SUCESS"}),j(s)){e.next=4;break}return e.abrupt("return",f("Email must be valid"));case 4:if(""!==s.trim()&&""!==p.trim()){e.next=6;break}return e.abrupt("return",f("All fild must fill"));case 6:return e.prev=6,e.next=9,O.a.post("/login",{email:s,password:p},{"Contemt-Type":"application/json"});case 9:t=e.sent,n=t.data,(r=t.headers).auth&&N(r.auth),!0===n.success&&(l=n.data,a({type:"SET_USER",payload:l}),a({type:"ITEMPAGE"})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),f(e.t0.response.data.msg);case 19:case"end":return e.stop()}var l}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,t.error.error?r.a.createElement(C,null):null,t.success.success?r.a.createElement(x,null):null,r.a.createElement("div",{className:"registration-form"},r.a.createElement("div",null,r.a.createElement("span",{className:"form-lable"},"Email"),r.a.createElement("input",{className:"form-input",type:"text",placeholder:"enter username",value:s,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("span",{className:"form-lable"},"Password"),r.a.createElement("input",{className:"form-input",type:"password",placeholder:"enter password",value:p,onChange:function(e){return d(e.target.value)}})),r.a.createElement("button",{className:"register-btn",onClick:v},"Login"),r.a.createElement("span",{className:"login-span"},"New user ?",r.a.createElement("li",{onClick:function(){a({type:"REGISTRACTIONPAGE"}),b()}},"Register"))))},k=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(E),s=c.data,u=c.dispatch,i=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a.trim()){e.next=14;break}return e.prev=1,e.next=4,O.a.post("api/v1/",{name:a,id:s.user._id},{"Contemt-Type":"application/json"});case 4:t=e.sent,u({type:"ADD_HOBBI",payload:t.data.data}),l(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0,e.t0.response);case 12:e.next=15;break;case 14:u({type:"ERROR",payload:"Hobbi Not be empty"});case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"text",className:"form-input",onChange:function(e){l(e.target.value),u({type:"CLEAR_ERROR"})},value:a,placeholder:"Enter Your Hobbies"}),r.a.createElement("button",{onClick:function(){return i()}},"Add")),s.error.error?r.a.createElement(C,null):null,s.success.success?r.a.createElement(x,null):null)},w=function(e){var t=e.item,a=Object(n.useContext)(E).dispatch,l=function(){var e=Object(g.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete("/api/v1/".concat(t));case 2:n=e.sent,r=n.data,a({type:"DELETE_HOBBI",payload:r.data._id});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"item"},r.a.createElement("li",null,t.name),r.a.createElement("i",{className:"fa fa-trash fa-2x","aria-hidden":"true",onClick:function(){return l(t._id)}}))},T=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h1",null,"Loading..."))},A=function(){var e=Object(n.useContext)(E),t=e.data,a=e.dispatch;return Object(n.useEffect)((function(){(function(){var e=Object(g.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/v1/".concat(t.user._id));case 3:n=e.sent,a({type:"SET_HOBBI",payload:n.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t.user._id,a]),r.a.createElement(r.a.Fragment,null,t.loading?r.a.createElement(T,null):r.a.createElement("div",{className:"ShoppingItems"},t.items.map((function(e){return r.a.createElement(w,{key:e._id,item:e})}))))},I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(A,null))},_=function(){var e=Object(n.useContext)(E),t=e.data,a=e.dispatch,l=Object(n.useState)(""),c=Object(o.a)(l,2),s=c[0],u=c[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),p=m[0],d=m[1],f=Object(n.useState)(""),b=Object(o.a)(f,2),v=b[0],y=b[1],N=Object(n.useState)(""),R=Object(o.a)(N,2),S=R[0],k=R[1],w=Object(n.useState)(""),T=Object(o.a)(w,2),A=T[0],I=T[1],_=function(e){a({type:"ERROR",payload:e})},G=function(){a({type:"LOGINPAGE"})},L=function(){a({type:"CLEAR_ERROR"})},P=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(),j(p)){e.next=3;break}return e.abrupt("return",_("Email must be valid"));case 3:if(S===v){e.next=5;break}return e.abrupt("return",_("Password dont match"));case 5:if(""!==s.trim()&&""!==p.trim()&&""!==v.trim()){e.next=7;break}return e.abrupt("return",_("All fild must fill"));case 7:if(!(v.length<9)){e.next=9;break}return e.abrupt("return",_("Pasword not strong"));case 9:return e.prev=9,e.next=12,O.a.post("/login/registration",{name:s,email:p,password:v,number:A},{"Contemt-Type":"application/json"});case 12:t=e.sent,!0===t.data.success&&(G(),a({type:"SUCCESS",payload:"Successfull Registration..."})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),_(e.t0.response.data.msg);case 20:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,t.success.success?r.a.createElement(x,null):null,t.error.error?r.a.createElement(C,null):null,r.a.createElement("div",{className:"registration-form"},r.a.createElement("div",null,r.a.createElement("span",{className:"form-lable"},"username"),r.a.createElement("input",{className:"form-input",type:"text",placeholder:"enter username",value:s,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("span",{className:"form-lable"},"Email"),r.a.createElement("input",{className:"form-input",type:"text",placeholder:"enter email",value:p,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("span",{className:"form-lable"},"New Password"),r.a.createElement("input",{className:"form-input",type:"text",placeholder:"enter new password",value:v,onChange:function(e){return y(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("span",{className:"form-lable"},"Confirm Password"),r.a.createElement("input",{className:"form-input",type:"text",placeholder:"re-enter password",value:S,onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("span",{className:"form-lable"},"Mobile Number"),r.a.createElement("input",{className:"form-input",type:"text",placeholder:"enter number",value:A,onChange:function(e){return I(e.target.value)}})),r.a.createElement("button",{className:"register-btn",onClick:P},"Register"),r.a.createElement("span",{className:"login-span"},"Have an account ?",r.a.createElement("li",{onClick:function(){G(),L()}},"Login"))))},G=function(e){var t=Object(n.useContext)(E),a=t.data,l=t.dispatch,c=function(e){l({type:"ERROR",payload:e})};return Object(n.useEffect)((function(){(function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/login/auth",{headers:{"auth-token":R()}});case 3:t=e.sent,!0===(a=t.data).success?(n=a.data,l({type:"SET_USER",payload:n}),l({type:"ITEMPAGE"})):c(a.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c(e.t0.response.statusText);case 11:case"end":return e.stop()}var n}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,a.page.item?r.a.createElement(I,null):null,a.page.login?r.a.createElement(S,null):null,a.page.registration?r.a.createElement(_,null):null)},L=a(41),P=a(19),B=a.n(P),F=a(43),U=a.n(F),H=function(e){var t=e.value,a=t.details,n=t.handlechange,l=t.nextStep;return r.a.createElement(U.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{id:"firstname",hintText:"Enter Your First Name",onChange:function(e){n("firstname",e.target.value)},value:a.firstname}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"lastname",hintText:"Enter Your Last Name",onChange:function(e){n("lastname",e.target.value)},value:a.lastname}),r.a.createElement("br",null),r.a.createElement(B.a,{id:"bdate",type:"date",label:"Birthday",onChange:function(e){n("date",e.target.value)},value:a.date}),r.a.createElement("br",null),r.a.createElement("button",{className:"setupbtn",onClick:l},"Next")))},D=(a(236),function(){var e=Object(n.useContext)(E).data.user;return r.a.createElement("div",{className:"profilediv"},r.a.createElement("div",{className:"profilemain"},r.a.createElement("div",{className:"profileimg"}),r.a.createElement("div",{className:"profiledetails"},r.a.createElement("div",{className:"profileitem"},r.a.createElement("span",null,"Name"),r.a.createElement("h3",null,e.fullname)),r.a.createElement("hr",null),r.a.createElement("div",{className:"profileitem"},r.a.createElement("span",null,"Email"),r.a.createElement("h3",null,e.email)),r.a.createElement("hr",null),r.a.createElement("div",{className:"profileitem"},r.a.createElement("span",null,"Bday"),r.a.createElement("h3",null,e.bdate.slice(0,10))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"profileother"},r.a.createElement("div",{className:"profileotheritem"},r.a.createElement("span",null,"Mobile"),r.a.createElement("h3",null,e.number)),r.a.createElement("div",{className:"profileotheritem"},r.a.createElement("span",null,"city"),r.a.createElement("h3",null,e.city)),r.a.createElement("div",{className:"profileotheritem"},r.a.createElement("span",null,"state"),r.a.createElement("h3",null,e.state)),r.a.createElement("div",{className:"profileotheritem"},r.a.createElement("span",null,"Country"),r.a.createElement("h3",null,e.country))))}),M=function(e){var t=e.value,a=t.nextStep,n=t.data;return r.a.createElement("div",{className:"startup"},r.a.createElement("h1",{className:"hey"}," Hey.... ",n.user.name),r.a.createElement("h3",{className:"step"},"Set up your profile in just 2 simple step...."),r.a.createElement("h3",{className:"next"},"Please continue for the next process"),r.a.createElement("button",{className:"setupbtn",onClick:a},"Continue"))},Y=(a(237),function(e){var t=e.value,a=e.props.history,l=Object(n.useContext)(E),c=l.data,s=l.dispatch,u=t.details,o=t.handlechange,i=t.prevStep,m=u.firstname,p=u.lastname,d=u.date,f=u.city,b=u.country,v=u.state,y=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/profile",{id:c.user._id,firstname:m,lastname:p,date:d,city:f,country:b,state:v},{"Contemt-Type":"application/json"});case 3:!0===(t=e.sent).data.success&&(s({type:"SET_USER",payload:t.data.data}),a.push("/"),s({type:"SUCCESS",payload:"All Set...."})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"ERROR",payload:e.t0.response.data.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(U.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{hintText:"Enter Your City",onChange:function(e){o("city",e.target.value)},value:u.city}),r.a.createElement("br",null),r.a.createElement(B.a,{hintText:"Enter Your State",onChange:function(e){o("state",e.target.value)},value:u.state}),r.a.createElement("br",null),r.a.createElement(B.a,{hintText:"Enter Your Country",id:"standard-size-normal",onChange:function(e){o("country",e.target.value)},value:u.country}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("button",{className:"setupbtn",onClick:i,style:{margin:"2rem"}},"Previous"),r.a.createElement("button",{className:"setupbtn",onClick:y},"Confirm"))))}),z=function(e){var t=Object(n.useContext)(E),a=t.data,l=t.dispatch,c=function(e){l({type:"ERROR",payload:e})},s=Object(n.useState)({firstname:"",lastname:"",date:"",count:0,city:"",state:"",country:""}),u=Object(o.a)(s,2),i=u[0],p=u[1],d=function(){l({type:"LOGINPAGE"})},f={details:i,setDetails:p,nextStep:function(){p(Object(m.a)(Object(m.a)({},i),{},{count:i.count+1}))},prevStep:function(){p(Object(m.a)(Object(m.a)({},i),{},{count:i.count-1}))},handlechange:function(e,t){p(Object(m.a)(Object(m.a)({},i),{},Object(L.a)({},e,t)))},data:a};return Object(n.useEffect)((function(){(function(){var t=Object(g.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("/login/auth",{headers:{"auth-token":R()}});case 3:a=t.sent,!0===(n=a.data).success?(r=n.data,l({type:"SET_USER",payload:r}),l({type:"ITEMPAGE"})):(e.history.push("/"),d(),c(n.msg)),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),e.history.push("/"),d(),c(t.t0.response.data.msg);case 13:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,a.user.profile?r.a.createElement(D,null):r.a.createElement(r.a.Fragment,null,0===i.count?r.a.createElement(M,{value:f}):null,r.a.createElement("div",{className:"userDetails"},1===i.count?r.a.createElement(H,{value:f}):null,2===i.count?r.a.createElement(Y,{value:f,props:e}):null)))},W=function(){return r.a.createElement(f,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{path:"/",component:b}),r.a.createElement(u.a,{exact:!0,path:"/",component:G}),r.a.createElement(u.a,{path:"/details",component:z})))};a(238);c.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[102,1,2]]]);
//# sourceMappingURL=main.fa35b192.chunk.js.map